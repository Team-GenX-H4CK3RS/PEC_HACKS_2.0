(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[28],{8922:function(e,s,t){Promise.resolve().then(t.bind(t,3646))},3646:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return c}});var a=t(7437),n=t(324),l=t(7637),o=t(2265),r=t(8581);function c(){let e=["pharmacy","hospital","hotel","restaurant","park","blood bank"],[s,t]=(0,o.useState)(),[c,i]=(0,o.useState)(),[d,p]=(0,o.useState)(),[m,x]=(0,o.useState)(),h=(0,l.Z)(),u=function(){let e=new n.YD({baseURL:"https://maps.googleapis.com/maps/api/",params:{key:"AIzaSyBlJfGgpP2kN06cTUkpcY1VZLsflD2_ux0"}});return{getLocationByAddress:async s=>{let t=JSON.parse((await e.get("geocode/json",{params:{address:s}})).data);return[t.results[0].geometry.location.lat,t.results[0].geometry.location.lng]},getNearByPlaces:async function(s,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;try{let n=await e.get("place/nearbysearch/json",{params:{location:s.join(","),keyword:t,radius:a}});return console.log(n.data),JSON.parse(n.data)}catch(e){console.log(e)}}}}(),[g,f]=(0,o.useState)(""),[j,b]=(0,o.useState)(""),w=async()=>{let{coords:e}=await r.b.getCurrentPosition();return[e.latitude,e.longitude]},N=async()=>{if(!j||""==j)return;let e=""!=g?await u.getLocationByAddress(g):await w();console.log(e),t(e),i(await h.gmaps.getNearByPlaces(e,j))},y=async e=>{j&&""!=j&&(p(await h.gmaps.getNearByPlaceDetailsById(e.place_id)),x(await h.gmaps.getRoutes(s,[e.geometry.location.lat,e.geometry.location.lng])))},v=e=>e.opening_hours?e.opening_hours.open_now:"OPERATIONAL"===e.business_status;return(0,a.jsxs)("div",{className:"p-4 flex flex-col space-y-2 select-none",children:[(0,a.jsx)("p",{className:"text-2xl font-bold",children:"POIs Search"}),(0,a.jsx)("hr",{}),(0,a.jsxs)("label",{className:"flex flex-col items-stretch px-2 py-1",children:[(0,a.jsx)("p",{className:"font-semibold",children:"Enter Location"}),(0,a.jsx)("input",{className:"appearance-none px-3 py-1 capitalize rounded-lg border-2 border-slate-300 focus:outline-teal-600 transition",value:g,placeholder:"Default: Your Location",onChange:e=>f(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex flex-col items-stretch px-2 py-1 gap-3",children:[(0,a.jsx)("p",{className:"font-semibold whitespace-nowrap",children:"Choose a POI"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:null==e?void 0:e.map(e=>(0,a.jsx)("button",{className:"capitalize px-4 rounded-full transition ".concat(j==e?"bg-teal-200":"bg-slate-100"),onClick:()=>b(e),children:e},e))})]}),(0,a.jsxs)("label",{className:"flex flex-col items-stretch px-2 py-1",children:[(0,a.jsx)("p",{className:"font-semibold",children:"Or enter a POI"}),(0,a.jsx)("input",{className:"appearance-none px-3 py-1 capitalize rounded-lg border-2 border-slate-300 focus:outline-teal-600 transition",value:j,onChange:e=>b(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 p-2",children:[(0,a.jsxs)("button",{className:"flex items-center justify-center font-bold p-2 space-x-2 bg-teal-700 text-white rounded-lg",onClick:N,children:[(0,a.jsx)("p",{children:"Search"}),(0,a.jsx)("span",{className:"material-symbols-rounded msr-bold",children:"search"})]}),(0,a.jsxs)("button",{className:"flex items-center justify-center font-bold p-2 space-x-2 bg-slate-200 rounded-lg",children:[(0,a.jsx)("p",{children:"Clear"}),(0,a.jsx)("span",{className:"material-symbols-rounded msr-bold",children:"clear"})]})]}),(0,a.jsx)("hr",{}),c?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xl font-semibold",children:"Results"}),(0,a.jsx)("div",{className:"flex flex-col gap-2 mt-2",children:c.map(e=>(0,a.jsxs)("div",{role:"radiogroup",className:"overflow-hidden rounded-md border-2 border-teal-800 bg-teal-800 text-white",children:[(0,a.jsx)("input",{type:"radio",name:"results-item",id:"result-item-radio-".concat(e.place_id),className:"hidden peer",onChange:()=>p(void 0)}),(0,a.jsxs)("label",{className:"flex items-center px-4 py-2 gap-2",htmlFor:"result-item-radio-".concat(e.place_id),children:[(0,a.jsx)("p",{className:"font-semibold w-full py-2 text-lg whitespace-nowrap overflow-hidden text-ellipsis",children:e.name}),(0,a.jsx)("div",{className:"flex-grow"}),(0,a.jsx)("p",{className:"font-semibold rounded-full px-4 py-1 whitespace-nowrap ".concat(v(e)?"bg-white/80 text-teal-700":"bg-white/80 text-red-700"),children:v(e)?"Open":"Closed"})]}),(0,a.jsxs)("div",{className:"bg-white text-slate-800 overflow-hidden h-0 p-0 peer-checked:h-fit peer-checked:p-4 transition-all text-lg",children:[(0,a.jsxs)("p",{className:"font-semibold",children:["Address:"," ",(0,a.jsx)("span",{className:"font-normal",children:e.vicinity})]}),(0,a.jsxs)("p",{className:"font-semibold",children:["Ratings:"," ",(0,a.jsx)("span",{className:"font-normal font-mono bg-slate-200 rounded px-2 select-text",children:e.rating})]}),d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"font-semibold",children:["Phone:"," ","formatted_phone_number"in d?(0,a.jsx)("span",{className:"font-normal font-mono bg-slate-200 rounded px-1 select-text",children:d.formatted_phone_number}):"Not Available"]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsxs)("a",{href:d.website,className:"flex items-center space-x-2 bg-teal-100 text-teal-800 font-semibold w-fit px-2 rounded-lg mt-1",children:[(0,a.jsx)("p",{children:"Website"}),(0,a.jsx)("span",{className:"material-symbols-rounded text-lg msr-bold",children:"open_in_new"})]}),(0,a.jsxs)("a",{href:d.url,className:"flex items-center space-x-2 bg-teal-100 text-teal-800 font-semibold w-fit px-2 rounded-lg mt-1",children:[(0,a.jsx)("p",{children:"Google Places Url"}),(0,a.jsx)("span",{className:"material-symbols-rounded text-lg msr-bold",children:"open_in_new"})]})]}),d.reviews?(0,a.jsxs)("div",{className:"flex flex-col gap-2 pt-2",children:[(0,a.jsx)("p",{className:"font-semibold",children:"Reviews:"}),d.reviews.map((s,t)=>(0,a.jsxs)("div",{className:"flex flex-col items-stretch bg-slate-50 border p-3 rounded-md",children:[(0,a.jsxs)("div",{className:"flex py-1 gap-4",children:[(0,a.jsx)("p",{className:"text-base capitalize font-semibold whitespace-nowrap overflow-hidden text-ellipsis",children:s.author_name}),(0,a.jsx)("div",{className:"flex-grow"}),(0,a.jsx)("p",{className:"text-sm whitespace-nowrap",children:s.relative_time_description})]}),(0,a.jsxs)("p",{className:"text-sm font-semibold",children:["Rating:"," ",(0,a.jsx)("span",{className:"font-normal rounded px-2 select-text",children:e.rating})]}),(0,a.jsx)("p",{className:"text-xs text-justify pt-2",children:s.text})]},t))]}):"",d.opening_hours&&d.opening_hours.weekday_text?(0,a.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,a.jsx)("p",{className:"font-semibold",children:"Opening Periods:"}),(0,a.jsx)("div",{className:"text-sm flex flex-col p-2",children:d.opening_hours.weekday_text.map((e,s)=>(0,a.jsx)("p",{children:e},s))})]}):""]}):(0,a.jsxs)("button",{onClick:()=>y(e),className:"bg-slate-200 px-4 py-1 rounded-lg mt-2 flex items-center space-x-2 text-sm w-full",children:[(0,a.jsx)("p",{children:"View More"}),(0,a.jsx)("span",{className:"flex-grow"}),(0,a.jsx)("span",{className:"material-symbols-rounded",children:"keyboard_arrow_down"})]}),m?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("p",{className:"font-semibold",children:["Phone:"," ","formatted_phone_number"in d?(0,a.jsx)("span",{className:"font-normal font-mono bg-slate-200 rounded px-1 select-text",children:d.formatted_phone_number}):"Not Available"]})}):""]})]},e.place_id))})]}):void 0]})}},7637:function(e,s,t){"use strict";function a(){let e="http://192.168.248.44:5000/",s=async function(s){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=await fetch(e+s,t);if(!a.ok)throw Error("HTTP error! Status: ".concat(a.status));return a.json()};return{ngos:{getStates:async()=>await s("ngos/states"),getDistricts:async e=>await s("ngos/states/".concat(e,"/districts")),getSectors:async()=>await s("ngos/sectors"),search:async(e,t,a)=>{let n=new URLSearchParams({state:e,district:t,sectors:a?a.join(","):void 0});return await s("ngos/search?".concat(n.toString()))}},gmaps:{getNearByPlaces:async(e,t)=>{let a=new URLSearchParams({location:e.join(","),place:t}),n=await s("gmaps/nearbyplaces?".concat(a.toString()));return console.log(n),n.results},getNearByPlaceDetailsById:async e=>{let t=new URLSearchParams({place_id:e}),a=await s("gmaps/nearbyplaces/details?".concat(t.toString()));return console.log(a.result),a.result},getRoutes:async(e,t)=>{let a=new URLSearchParams({origin:e.join(","),dest:t.join(",")}),n=await s("gmaps/routes?".concat(a.toString()));return console.log(n),n.result}},medchat:{newChat:async()=>(await s("medchat/new")).sessionId,send:async(s,t)=>{let a=await fetch("".concat(e,"medchat/send"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:s,msg:t})});return(await a.json()).result},closeChat:async s=>{await fetch("".concat(e,"medchat/close"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:s})})}},s2t:{convertSpeechToText:async s=>{let t=await fetch("".concat(e,"speechttext"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({audio:s})});return(await t.json()).text}}}}t.d(s,{Z:function(){return a}})}},function(e){e.O(0,[161,971,117,744],function(){return e(e.s=8922)}),_N_E=e.O()}]);